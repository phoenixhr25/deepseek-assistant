<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>提问你的智能助手</title>
  <style>
    body { font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial; margin:24px;}
    input,select,button { padding:8px; font-size:16px; width:100%;}
    .row { margin:12px 0;}
    .answer { white-space:pre-wrap; border-left:4px solid #4da3ff; background:#f7fbff; padding:10px 12px;}
    .error  { white-space:pre-wrap; border-left:4px solid #ff4d4f; background:#fff7f7; padding:10px 12px;}
    label { display:block; margin-bottom:6px;}
  </style>
</head>
<body>
  <h2>提问你的智能助手</h2>
  <p>直连 <b>deepseek-chat</b> / <b>deepseek-reasoner</b></p>

  <form method="POST">
    <div class="row">
      <label>请输入问题：</label>
      <input name="question" value="{{ question or '' }}" placeholder="例如：什么是 Transformer" required />
    </div>
    <div class="row">
      <label>选择模型：</label>
      <select name="model">
        {% for m in models %}
          <option value="{{ m.id }}" {% if selected_model == m.id %}selected{% endif %}>{{ m.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="row">
      <label>温度</label>
      <input name="temperature" type="number" step="0.1" min="0" max="1" value="{{ temperature or 0.3 }}" />
    </div>
    <div class="row">
      <label>最大输出 Tokens</label>
      <input name="max_tokens" type="number" min="64" max="2048" value="{{ max_tokens or 300 }}" />
    </div>
    <button type="submit">提交问题</button>
  </form>

  {% if error %}
  <h3>提示：</h3>
  <div class="error">{{ error }}</div>
  {% endif %}

  {% if answer %}
  <h3>回答：</h3>
  <div class="answer">{{ answer }}</div>
  {% endif %}
</body>
</html>
